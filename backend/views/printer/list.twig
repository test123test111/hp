{% set menu_name = "printer" %}
{% set sidebar_name = "打印机列表" %}
{% extends "@app/views/layouts/header.twig" %}
  {% block content %}
      <!-- Page heading -->
      <div class="page-head">
        <h2 class="pull-left"><i class="icon-file-alt"></i> Printer</h2>
        <!-- Breadcrumb -->
        <div class="bread-crumb pull-right">
          <a href="/"><i class="icon-home"></i> Home</a> 
          <!-- Divider -->
          <span class="divider">/</span> 
          <a href="/manager/admin" class="bread-current">Printer</a>
        </div>
        <div class="clearfix"></div>
      </div>
      <!-- Page heading ends -->

      <!-- Matter -->

         <div class="matter">
        <div class="container">

          <!-- Table -->

            <div class="row">

              <div class="col-md-12">

                <div class="widget">

                <div class="widget-head">
                  <div class="pull-left">Tables</div>
                  <div class="widget-icons pull-right">
                    <a href="#" class="wminimize"><i class="icon-chevron-up"></i></a> 
                    <a href="#" class="wclose"><i class="icon-remove"></i></a>
                  </div>  
                  <div class="clearfix"></div>
                </div>

                  <div class="widget-content">
                          {{ widget('\\kartik\\grid\\GridView', {
            'layout':'\n{items}\n{pager}',
            'id':'app-grid',
            'tableOptions':{'class':'table table-striped table-bordered table-hover'},
            'dataProvider':dataProvider,
            'filterModel':model,
            'pager':{
            'class':'\\common\\extensions\\Page\\CPageLink',
            },
            'columns':{
                0:{
                  'attribute':'id',
                },
                3:{
                      'attribute':'type',
                      'value':model.getPrinterTypes(),
                      'filterType':constant('\\kartik\\grid\\GridView::FILTER_SELECT2'),
                      'filter':model.getCanUseTypes(),
                      'filterWidgetOptions':{'pluginOptions':{'allowClear':true},},
                      'filterInputOptions':{'placeholder':'选择类型'},
                      'format':'raw'
                },
                1:{
                  'attribute':"status",
                  'value':'if($model->status == 0){ return "正常";}else{return "停用";}'|value_callback,
                },
                5:{
                    'attribute':'created_time',
                    'format':['date', 'php:Y-m-d H:i'],
                },
                7:{
                    'class':'\\common\\extensions\\Grid\\GridActionColumn',
                    'template':'{update} {view}',
                },
        }})
    }}

                    <div class="widget-foot">
                      <div class="clearfix"></div> 
                    </div>

                  </div>
                </div>
              </div>

            </div>
        </div>
      </div>
{% endblock %}
